{"version":3,"sources":["components/User/Setting.tsx","views/Setting/Setting.tsx"],"names":["client","require","create","host","port","protocol","Setting","props","wallet","useWallet","history","useHistory","useState","image","setImage","email","name","setName","customUrl","setCustomURL","twitter","setTwitterName","description","setDescription","PadWalletAddress","account","historny","user","useDispatch","useSelector","state","marketplace","useEffect","push","handleUpdate","a","add","file","updateUser","path","className","style","height","width","src","alt","htmlFor","type","id","onChange","event","target","files","URL","createObjectURL","value","e","placeholder","required","cols","rows","defaultValue","onClick","Breadcrumb","title"],"mappings":"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","file":"static/js/16.b889d489.chunk.js","sourcesContent":["\r\nimport React, { useState, useEffect } from 'react';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport {connect, RootStateOrAny, useDispatch, useSelector} from 'react-redux';\r\nimport {useHistory, withRouter} from 'react-router-dom';\r\nimport { PadWalletAddress } from 'utils/padwallet';\r\nimport { useWallet } from '@binance-chain/bsc-use-wallet';\r\nimport { updateUser } from 'actions';\r\nconst ipfsClient = require('ipfs-http-client');\r\nconst client = ipfsClient.create({ host: 'ipfs.infura.io', port: 5001, protocol: 'https' });\r\n\r\n\r\nfunction Setting(props){\r\n    const wallet = useWallet();\r\n    const history = useHistory();\r\n    const [image, setImage] = useState(null);\r\n    const [email, setEmail] = useState('');\r\n    const [name, setName] = useState('');\r\n    const [customUrl, setCustomURL] = useState('');\r\n    const [twitter, setTwitterName] = useState('')\r\n    const [description, setDescription] = useState('')\r\n    const [account, setAccount] = useState(PadWalletAddress(wallet.account));\r\n    const historny = useHistory()\r\n    const dispatch = useDispatch();\r\n    const user  = useSelector((state: RootStateOrAny) => state.marketplace.user);\r\n    useEffect(() => {\r\n        if(wallet.account === null){\r\n            history.push('/connect');\r\n        }\r\n    })\r\n\r\n    const handleUpload = (event) =>{\r\n        if (event.target.files && event.target.files[0]) {\r\n            setImage(URL.createObjectURL(event.target.files[0]));\r\n        }\r\n    }\r\n\r\n    const handleUpdate = async() => {\r\n      \r\n        const file = await client.add(image);\r\n        await updateUser(wallet.account, name, customUrl, twitter, email, description, file.path);\r\n        historny.push(`/user/${wallet.account}`)\r\n    }\r\n\r\n  \r\n    return (\r\n        <section className=\"author-area\">\r\n            <div className=\"container\">\r\n                <div className=\"row justify-content-between\">\r\n                    <div className=\"col-12 col-md-4\">\r\n                        {/* Author Profile */}\r\n                        <div className=\"card no-hover text-center\">\r\n                            <div className=\"image-over\">\r\n                                <img className=\"rounded-circle\"  style={{height:'calc(15rem)', width : 'calc(15rem)'}} src={image === null?'/img/user.jpg':image} alt=\"\" />\r\n                                {/* Author */}\r\n                            </div>\r\n                            {/* Card Caption */}\r\n                            <div className=\"card-caption col-12 p-0\">\r\n                                {/* Card Body */}\r\n                                <div className=\"card-body mt-4\">\r\n                                    <div className=\"input-group\">\r\n                                        <label className=\"btn w-100 mt-3 mt-sm-4\" htmlFor=\"file\">Choose File</label>\r\n                                        <input type=\"file\" id=\"file\" className=\"d-none\" onChange={handleUpload} />\r\n                                        \r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"col-12 col-md-7\">\r\n                        {/* Intro */}\r\n                        <div className=\"intro mt-5 mt-lg-0 mb-4 mb-lg-5\">\r\n                            <div className=\"intro-content\">\r\n                                <span>My Profile</span>\r\n                                <h3 className=\"mt-3 mb-0\">{account}</h3>\r\n                            </div>\r\n                        </div>\r\n                        {/* Item Form */}\r\n                        <form className=\"item-form card\">\r\n                            <div className=\"row\">\r\n                                <div className=\"col-12\">\r\n                                    <div className=\"form-group mt-3\">\r\n                                        <input type=\"text\" className=\"form-control\" name=\"name\" value={user?.name} onChange={e => setName(e.target.value)} placeholder=\"User Name\" required={true} />\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"col-12\">\r\n                                    <div className=\"form-group mt-3\">\r\n                                        <input type=\"text\" className=\"form-control\" name=\"custom_url\" value={user?.customUrl} onChange={e => setCustomURL(e.target.value)} placeholder=\"Custom URL\" required={true} />\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"col-12\">\r\n                                    <div className=\"form-group mt-3\">\r\n                                        <input type=\"text\" className=\"form-control\" name=\"twitter_name\" value={user?.twitter} onChange={e => setTwitterName(e.target.value)} placeholder=\"Twitter Name\" required={true} />\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"col-12\">\r\n                                    <div className=\"form-group mt-3\">\r\n                                        <input type=\"email\"  className=\"form-control\" name=\"email\" value={user?.email}  placeholder=\"User Email\" required={true} />\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"col-12\">\r\n                                    <div className=\"form-group\">\r\n                                        <textarea className=\"form-control\" name=\"textarea\" placeholder=\"Description\" value={user?.description} onChange={e => setDescription(e.target.value)} cols={30} rows={3} defaultValue={\"\"}  />\r\n                                    </div>\r\n                                </div>\r\n                                \r\n                            \r\n                                <div className=\"col-12\">\r\n                                    <button className=\"btn w-100 mt-3 mt-sm-4\" type=\"button\" onClick={() => handleUpdate()}>Update Profile</button>\r\n                                </div>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <ToastContainer />\r\n        </section>\r\n    );\r\n\r\n}\r\n\r\nexport default Setting;","import AuctionsTwo from 'components/Auctions/AuctionsTwo';\r\nimport React from 'react';\r\n\r\nimport Breadcrumb from '../../components/Breadcrumb/Breadcrumb';\r\nimport UserSetting from '../../components/User/Setting';\r\nconst  Setting = () => {\r\n    return (\r\n        <>\r\n            <Breadcrumb title=\"User Setting\"  />\r\n            <UserSetting />\r\n            \r\n        </>\r\n    );\r\n}\r\n\r\nexport default Setting;"],"sourceRoot":""}