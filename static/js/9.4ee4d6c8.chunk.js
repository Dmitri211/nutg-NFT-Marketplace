(this.webpackJsonpntf=this.webpackJsonpntf||[]).push([[9],{1102:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return P}));var c=a(0),r=a(193),s=a(21),n=a(20),o=a(10),l=a.n(o),i=a(25),d=a(57),u=a(779),j=(a(773),a(58)),b=a(196),m=a(67),O=a(195),p=a(119),h=a(1),x=a(802).create({host:"ipfs.infura.io",port:5001,protocol:"https"});var f=function(){var e=Object(d.c)(),t=Object(j.m)().account,a=Object(c.useState)(null),r=Object(n.a)(a,2),o=r[0],i=r[1],m=Object(c.useState)(""),f=Object(n.a)(m,2),v=f[0],N=f[1],g=Object(c.useState)(""),C=Object(n.a)(g,2),y=C[0],k=C[1],H=Object(c.useState)(""),w=Object(n.a)(H,2),A=w[0],S=w[1],L=Object(c.useState)(null),P=Object(n.a)(L,2),I=P[0],E=P[1],D=Object(c.useState)(null),F=Object(n.a)(D,2),G=(F[0],F[1],Object(b.d)(Object(O.b)())),_=p.abi,M=p.bytecode,W=Object(b.b)(_),R=function(){var a=Object(s.a)(l.a.mark((function a(){var c;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(null!==I&&""!==v&&""!==y&&""!==A||(u.b.warning("Check the Inputs",{position:"top-right",autoClose:3e3,theme:"dark",pauseOnHover:!1}),0)){a.next=2;break}return a.abrupt("return");case 2:return console.log(t),e({type:"CHANGE_LOAD",payload:!0}),a.next=6,x.add(I);case 6:if(c=a.sent,console.log(c),c){a.next=11;break}return console.error("IPFS Server Error"),a.abrupt("return");case 11:try{W.deploy({data:M,arguments:[v,y]}).send({from:t}).on("error",(function(t){u.b.error(t,{position:"top-right",autoClose:3e3,theme:"dark",pauseOnHover:!1}),e({type:"CHANGE_LOAD",payload:!1})})).on("transactionHash",(function(e){u.b.success(e,{position:"top-right",autoClose:3e3,theme:"dark",pauseOnHover:!1})})).on("receipt",function(){var a=Object(s.a)(l.a.mark((function a(r){var s,n;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s=c.path,n=r.contractAddress,a.next=4,G.methods.addCollection(s,v,y,A,n,t,10,10).send({from:t});case 4:S(""),E(null),N(""),k(""),i(null),e({type:"CHANGE_LOAD",payload:!1});case 10:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()),x.stop()}catch(r){e({type:"CHANGE_LOAD",payload:!1})}case 12:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(h.jsx)("div",{id:"create_collection",className:"modal fade p-0",children:Object(h.jsx)("div",{className:"modal-dialog dialog-animated",children:Object(h.jsxs)("div",{className:"modal-content h-100",children:[Object(h.jsxs)("div",{className:"modal-header","data-dismiss":"modal",children:["Create Collection ",Object(h.jsx)("i",{className:"far fa-times-circle icon-close"})]}),Object(h.jsx)("div",{className:"menu modal-body",children:Object(h.jsxs)("div",{className:"row align-self-center",children:[Object(h.jsx)("div",{className:"col-12",children:Object(h.jsx)("div",{className:"file-uploader",children:o?Object(h.jsxs)("div",{className:"active",children:[Object(h.jsx)("button",{onClick:function(){return i(null)},children:Object(h.jsxs)("svg",{viewBox:"0 0 16 16",fill:"none",width:"13.200000000000001",height:"13.200000000000001",children:[Object(h.jsx)("path",{d:"M4 12L12 4",stroke:"currentColor",strokeWidth:"2"}),Object(h.jsx)("path",{d:"M12 12L4 4",stroke:"currentColor",strokeWidth:"2"})]})}),Object(h.jsx)("img",{src:o})]}):Object(h.jsxs)("div",{className:"normal",children:[Object(h.jsx)("label",{htmlFor:"collectionFile",children:"Choose File"}),Object(h.jsx)("input",{type:"file",id:"collectionFile",onChange:function(e){console.log(e),e.target.files&&e.target.files[0]&&(i(URL.createObjectURL(e.target.files[0])),E(e.target.files[0]))}}),Object(h.jsxs)("p",{children:["PNG, GIF, WEBP, MP4 or",Object(h.jsx)("br",{})," MP3. Max 30mb"]})]})})}),Object(h.jsx)("div",{className:"col-12",children:Object(h.jsx)("div",{className:"form-group",children:Object(h.jsx)("input",{type:"text",className:"form-control",value:v,name:"name",placeholder:"Collection Name",required:!0,onChange:function(e){return N(e.target.value)}})})}),Object(h.jsx)("div",{className:"col-12",children:Object(h.jsx)("div",{className:"form-group",children:Object(h.jsx)("input",{type:"text",className:"form-control",value:y,name:"symbol",placeholder:"Collection Symbol",required:!0,onChange:function(e){return k(e.target.value)}})})}),Object(h.jsx)("div",{className:"col-12",children:Object(h.jsx)("div",{className:"form-group",children:Object(h.jsx)("input",{type:"text",className:"form-control",name:"textarea",value:A,placeholder:"Collection Description",onChange:function(e){return S(e.target.value)}})})}),Object(h.jsx)("div",{className:"col-12",children:Object(h.jsx)("button",{className:"btn w-100 mt-3 mt-sm-4",type:"button",onClick:R,children:"Create Collection"})})]})})]})})})},v=a(68),N=a(200),g=a(190),C=a(192),y=a(770),k=a(771),H=a(142),w=a(61),A=a.n(w),S=a(802).create({host:"ipfs.infura.io",port:5001,protocol:"https"});var L=function(){var e,t=Object(d.c)(),a=Object(i.f)(),r=Object(c.useState)(""),o=Object(n.a)(r,2),p=o[0],x=o[1],w=Object(c.useState)(null),L=Object(n.a)(w,2),P=L[0],I=L[1],E=Object(c.useState)(null),D=Object(n.a)(E,2),F=D[0],G=D[1],_=Object(c.useState)(""),M=Object(n.a)(_,2),W=M[0],R=M[1],q=Object(c.useState)(0),B=Object(n.a)(q,2),U=(B[0],B[1],Object(c.useState)(0)),T=Object(n.a)(U,2),J=T[0],V=T[1],z=Object(c.useState)(g.a.Nutgain.address),K=Object(n.a)(z,2),Q=K[0],X=K[1],Y=Object(j.m)().account,Z=Object(c.useState)(null),$=Object(n.a)(Z,2),ee=$[0],te=$[1],ae=Object(c.useState)(null),ce=Object(n.a)(ae,2),re=ce[0],se=ce[1],ne=Object(O.b)(),oe=(Object(O.a)(),Object(b.d)(Object(O.b)())),le=Object(m.a)(),ie=null===(e=Object(d.d)((function(e){return e.marketplace.collections})))||void 0===e?void 0:e.filter((function(e){return e.creator===Y})),de=function(){var e=Object(s.a)(l.a.mark((function e(){var c,r,n,o,i,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(Q),!1!==(null===P||""===P?(u.b.error("Please Insert Image!",{position:"top-right",autoClose:3e3,theme:"dark",pauseOnHover:!1}),!1):null===ee?(u.b.error("Please Select the Collection!",{position:"top-right",autoClose:3e3,theme:"dark",pauseOnHover:!1}),!1):J<=0?(u.b.error("Please Insert Price!",{position:"top-right",autoClose:3e3,theme:"dark",pauseOnHover:!1}),!1):null===p||""===p?(u.b.error("Please Insert Name!",{position:"top-right",autoClose:3e3,theme:"dark",pauseOnHover:!1}),!1):null!==W&&""!==W||(u.b.error("Please Insert Description!",{position:"top-right",autoClose:3e3,theme:"dark",pauseOnHover:!1}),!1))){e.next=3;break}return e.abrupt("return");case 3:return t({type:"CHANGE_LOAD",payload:!0}),e.prev=4,e.next=7,S.add(F);case 7:if(c=e.sent,console.log(c),c){e.next=13;break}return console.error("IPFS Server Error"),t({type:"CHANGE_LOAD",payload:!1}),e.abrupt("return");case 13:return e.next=15,re.methods.mintNFT(c.path,p,W).send({from:Y}).on("transactionHash",(function(e){u.b.info("Mint Success!",{position:"top-right",autoClose:3e3,theme:"dark",pauseOnHover:!1})})).on("error",(function(e){u.b.error("Mint Fail!",{position:"top-right",autoClose:3e3,theme:"dark",pauseOnHover:!1}),t({type:"CHANGE_LOAD",payload:!1}),console.log(e)}));case 15:if(r=e.sent,n=r.events.Transfer.returnValues[2],console.log("TOkenID",n),!(n>0)){e.next=28;break}return e.next=21,re.methods.approve(ne,n).send({from:Y});case 21:o=Object(k.a)(Q),i=Object(H.b)(new A.a(J),o),d=!1,Q==g.a.bnb.address&&(d=!0),oe.methods.createItemOrder(ee,n,Q,i,d).send({from:Y}).on("error",(function(e){u.b.error(e,{position:"top-right",autoClose:3e3,theme:"dark",pauseOnHover:!1}),t({type:"CHANGE_LOAD",payload:!1})})).on("transactionHash",(function(e){u.b.success(e,{position:"top-right",autoClose:3e3,theme:"dark",pauseOnHover:!1})})).on("receipt",function(){var e=Object(s.a)(l.a.mark((function e(c){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(c),r=Object(y.a)(Q),e.next=4,N.a.putHistory(ee,n,"Create the the Item with ".concat(J," ").concat(r," by ").concat(Object(C.a)(Y)));case 4:t({type:"CHANGE_LOAD",payload:!1}),a.push("/");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=30;break;case 28:u.b.error("Put Sale Fail!",{position:"top-right",autoClose:3e3,theme:"dark",pauseOnHover:!1}),t({type:"CHANGE_LOAD",payload:!1});case 30:S.stop(),e.next=37;break;case 33:e.prev=33,e.t0=e.catch(4),t({type:"CHANGE_LOAD",payload:!1}),console.log(e.t0);case 37:case"end":return e.stop()}}),e,null,[[4,33]])})));return function(){return e.apply(this,arguments)}}();return Object(h.jsxs)("section",{className:"author-area",children:[Object(h.jsx)(f,{}),Object(h.jsx)("div",{className:"container",children:Object(h.jsxs)("div",{className:"row justify-content-between",children:[Object(h.jsx)("div",{className:"col-12 col-md-4",children:Object(h.jsxs)("div",{className:"card no-hover text-center",children:[Object(h.jsx)("div",{className:"image-over",children:Object(h.jsx)("img",{className:"card-img-top",src:null===P?"/img/user.jpg":P,alt:""})}),Object(h.jsx)("div",{className:"card-caption col-12 p-0",children:Object(h.jsxs)("div",{className:"card-body mt-4",children:[Object(h.jsx)("h5",{className:"mb-3",children:p}),Object(h.jsx)("p",{className:"my-3",children:W}),Object(h.jsxs)("p",{className:"my-3",children:[J," ",Object(y.a)(Q)]})]})})]})}),Object(h.jsxs)("div",{className:"col-12 col-md-7",children:[Object(h.jsx)("div",{className:"intro mt-5 mt-lg-0 mb-4 mb-lg-5",children:Object(h.jsx)("div",{className:"intro-content",children:Object(h.jsx)("h3",{className:"mt-3 mb-0",children:"Create Item"})})}),Object(h.jsx)("div",{className:"item-from card",children:Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"col-12",children:Object(h.jsx)("div",{className:"file-uploader",children:P?Object(h.jsxs)("div",{className:"active",children:[Object(h.jsx)("button",{onClick:function(){return I(null)},children:Object(h.jsxs)("svg",{viewBox:"0 0 16 16",fill:"none",width:"13.200000000000001",height:"13.200000000000001",children:[Object(h.jsx)("path",{d:"M4 12L12 4",stroke:"currentColor",strokeWidth:"2"}),Object(h.jsx)("path",{d:"M12 12L4 4",stroke:"currentColor",strokeWidth:"2"})]})}),Object(h.jsx)("img",{src:P})]}):Object(h.jsxs)("div",{className:"normal",children:[Object(h.jsx)("label",{htmlFor:"file",children:"Choose File"}),Object(h.jsx)("input",{type:"file",id:"file",onChange:function(e){e.target.files&&e.target.files[0]&&(I(URL.createObjectURL(e.target.files[0])),G(e.target.files[0]))}}),Object(h.jsxs)("p",{children:["PNG, GIF, WEBP, MP4 or",Object(h.jsx)("br",{})," MP3. Max 30mb"]})]})})}),Object(h.jsx)("div",{className:"col-12",children:Object(h.jsxs)("div",{className:"collection",children:[Object(h.jsxs)("div",{className:"item-detail","data-toggle":"modal","data-target":"#create_collection",children:[Object(h.jsx)("p",{className:"name",children:"Create"}),Object(h.jsx)("p",{className:"symbol",children:"ERC-721"})]}),null===ie||void 0===ie?void 0:ie.map((function(e,t){return Object(h.jsxs)("div",{className:"item-detail",style:{border:e.address===ee&&"2px solid rgb(0, 102, 255)"},onClick:function(){return function(e){te(e),se(Object(v.f)(e,le))}(e.address)},children:[Object(h.jsx)("p",{className:"name",children:e.name}),Object(h.jsx)("p",{className:"symbol",children:e.symbol})]},"collection_".concat(t))}))]})}),Object(h.jsx)("div",{className:"col-8",children:Object(h.jsx)("div",{className:"form-group",children:Object(h.jsx)("input",{type:"number",className:"form-control",name:"price",placeholder:"Item Price",required:!0,onChange:function(e){return V(parseFloat(e.target.value))}})})}),Object(h.jsx)("div",{className:"col-4",children:Object(h.jsx)("div",{className:"form-group",children:Object(h.jsxs)("select",{className:"form-control",name:"token",onChange:function(e){return X(e.target.value)},children:[Object(h.jsx)("option",{value:g.a.Nutgain.address,children:g.a.Nutgain.symbol}),Object(h.jsx)("option",{value:g.a.bnb.address,children:g.a.bnb.symbol}),Object(h.jsx)("option",{value:g.a.busd.address,children:g.a.busd.symbol})]})})}),Object(h.jsx)("div",{className:"col-12",children:Object(h.jsx)("div",{className:"form-group",children:Object(h.jsx)("input",{type:"text",className:"form-control",name:"name",placeholder:"Item Name",required:!0,onChange:function(e){return x(e.target.value)}})})}),Object(h.jsx)("div",{className:"col-12",children:Object(h.jsx)("div",{className:"form-group",children:Object(h.jsx)("textarea",{className:"form-control",name:"textarea",placeholder:"Description",cols:30,rows:3,defaultValue:"",onChange:function(e){return R(e.target.value)}})})}),Object(h.jsx)("div",{className:"col-12",children:Object(h.jsx)("button",{className:"btn w-100 mt-3 mt-sm-4",type:"button",onClick:function(){return de()},children:"Create Item"})})]})})]})]})}),Object(h.jsx)(u.a,{})]})},P=function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(r.a,{title:"Create New Item",subpage:"Pages",page:"Create"}),Object(h.jsx)(L,{})]})}},770:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var c=a(190),r=function(e){return c.a.busd.address===e?c.a.busd.symbol:c.a.Nutgain.address===e?c.a.Nutgain.symbol:c.a.bnb.symbol}},771:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var c=a(190),r=function(e){return c.a.busd.address===e?c.a.busd.decimal:c.a.Nutgain.address===e?c.a.Nutgain.decimal:c.a.bnb.decimal}},828:function(e,t){},851:function(e,t){}}]);
//# sourceMappingURL=9.4ee4d6c8.chunk.js.map